<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>品码斋-打造你的OSX开发环境</title>
    <meta name="description" content="资深码农，技术兴趣广泛，好读书，求甚解">
    <link rel="canonical" href="http://jameszhan.github.io/2014/10/01/osx-developer-environment-setup.html">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
	<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="/assets/stylesheets/main.css">
</head>


<body>

<header class="navbar navbar-inverse navbar-fixed-top" role="banner" data-include="/assets/tpls/header.tpl"></header>

<div class="container">
    <div class="col-md-9">
    <div class="post">

        <header class="post-header">
            <h1 class="post-title">打造你的OSX开发环境</h1>
            <p class="post-meta">
                2014年10月01日 •
                詹子知(James Zhan) •
                版权所有，转载须声明出处
            </p>
        </header>

        <article class="post-content">
            <h2 id="以下app-store上的软件，你值得拥有。">以下App Store上的软件，你值得拥有。</h2>

<ul>
<li><strong>Pages</strong>, <strong>Numbers</strong>, <strong>Keynote</strong> OS X三件套。</li>
<li><strong>Alfred</strong> 和Spotlight类似，可以快速启动应用程序和打开文件，但是比Spotlight体验好很多。</li>
<li><strong>OmniGraffle</strong> 比较实用的画图工具，和Viso类似，但是定制和扩展性更强。</li>
<li><strong>Evernote</strong> 印象笔记，一款非常好用的笔记工具，如果想使用Markdown来写笔记，可以结合一些第三方插件来使用。</li>
<li><strong>The Unarchiver</strong> OS X下的解压神器。</li>
<li><strong>Skitch</strong> OS X下的截屏神器，操作简单。</li>
</ul>

<h2 id="第三方软件">第三方软件</h2>

<ul>
<li><a href="http://www.adobe.com/cn/products/photoshop.html"><strong>Adobe Photoshop CS6</strong></a> 不解释，OS X下体验更佳。<br></li>
<li><a href="http://www.parallels.com/cn/products/desktop/"><strong>Parallels Desktop</strong></a> OS X下最好用的虚拟机软件，就是价格比较坑，升级价格和全价差不多。</li>
<li><a href="http://www.axure.com/"><strong>Axure RP</strong></a> 比较好用的产品原型设计工具。</li>
<li><a href="http://www.xmind.net/"><strong>XMind</strong></a> 比较好用的一款思维导图工具。</li>
<li><a href="http://astah.net/download"><strong>astah professional</strong></a> 一款比较专业的UML画图工具。</li>
<li><a href="http://www.mysql.com/products/workbench/"><strong>MySQL Workbench</strong></a> 官方的MySQL客户端。</li>
</ul>

<h2 id="开发者必备">开发者必备</h2>

<h3 id="集成开发环境">集成开发环境</h3>

<p>如果你是Java开发者（或者同时编辑Ruby，Python，PHP，JavaScript，Scala，Groovy，Clojure等程序），强烈建议你安装<a href="http://www.jetbrains.com/idea/download/">IntelliJ IDEA</a>。如果你只做前端开发，那么<a href="http://www.jetbrains.com/webstorm/">WebStrom</a>是不错的选择，另外，<a href="http://www.jetbrains.com/ruby/">RubyMime</a>，<a href="http://www.jetbrains.com/pycharm/">PyCharm</a>，<a href="http://www.jetbrains.com/phpstorm/">PhpStorm</a>作为Ruby，Python，PHP的单项开发环境也不错。</p>

<p>如果你不想花钱，又不想实用盗版软件，那么<a href="http://www.eclipse.org/downloads/">Eclipse</a>，<a href="https://netbeans.org/">NetBeans</a>也可以凑合着用。</p>

<h3 id="编辑器">编辑器</h3>

<p>如果你习惯使用命令行，配合编辑器开发程序也是一个不错的选择，除了vi和emacs之外（后面会单独介绍），以下编辑器你值得拥有。</p>

<ul>
<li><strong>TextWrangler</strong> 一种免费的文本编辑器，功能和NodePad++类似，可以直接在App Store上下载。</li>
<li><a href="https://macromates.com/download">TextMate</a>，个人用的比较顺手的一个，有各种扩展可以提高你的开发效率。

<ul>
<li><a href="https://github.com/textmate/textmate">源码地址</a></li>
<li><a href="https://github.com/deplorableword/textmate-solarized">Solarized Theme</a></li>
</ul></li>
<li><a href="http://www.sublimetext.com/">Sublime Text</a>，如果你从Linux迁移过来，Sublime一定不陌生，它确实是一个非常好用的一个编辑器。</li>
<li><a href="http://lighttable.com/">LightTable</a> 一款新出世的编辑器，完全<a href="https://github.com/LightTable/LightTable">开源</a>，使用Clojure语言编写，非常容易扩展和定制。</li>
</ul>

<h3 id="浏览器">浏览器</h3>

<ul>
<li><a href="https://www.chromedownload.org">Chrome</a> 速度快，调试方便，目前是我开发主要使用的浏览器。</li>
<li><a href="http://www.firefox.com.cn/">Firefox</a> 有点笨重，但是作为开发调试工具还是不错的。</li>
<li><strong>Safari</strong>，系统自带的默认浏览器，和OSX系统集成度高，可以实现在不同的Apple设备之间同步阅读进度。</li>
<li><strong>Opera</strong>，App Store上提供直接下载，小巧，快速。</li>
</ul>

<h3 id="开发环境准备">开发环境准备</h3>

<h4 id="选择合适的terminal">选择合适的Terminal</h4>

<p>相比原生的Terminal，我更喜欢使用 <a href="http://iterm2.com/">iTerm2</a>，它提供了很多现代的特性，比如主题定制，分屏，自动完成等多种功能。</p>

<h4 id="安装xcode">安装XCode</h4>

<p>XCode可以直接从App Store上下载和更新，安装完以后，我们需要启动它一次，这个时候它会提示你去接受它的协议。 接下来，我们需要安装Command Line Tool。</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">xcode-select --install
</code></pre></div>
<h4 id="安装oh-my-zsh">安装oh-my-zsh</h4>

<p><a href="https://github.com/robbyrussell/oh-my-zsh">oh-my-zsh</a>是一套开源，社区驱动的用于管理zsh配置的框架，可以使用如下的方式安装。</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">git clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh

<span class="c"># Optionally, backup your existing ~/.zshrc file</span>
cp ~/.zshrc ~/.zshrc.orig

cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc

<span class="c"># Set Zsh as your default shell:</span>
chsh -s /bin/zsh
</code></pre></div>
<p>接下来，重启你的命令行就可以发现oh-my-zsh已经配置好了。</p>

<p>如果你想更改zsh的配置，可以编辑~/.zshrc个性化你的配置。
比如我本地的配置为：</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nv">ZSH_THEME</span><span class="o">=</span><span class="s2">&quot;jameszhan&quot;</span>
<span class="nv">plugins</span><span class="o">=(</span>git svn mvn brew gem go lein npm node rails ruby rvm<span class="o">)</span>
</code></pre></div>
<h4 id="安装homebrew">安装Homebrew</h4>

<p><a href="http://brew.sh/">Homebrew</a>是OSX下非常好用的包管理工具，类似于Ubuntu下的apt-get，用于替换OSX下的老牌包管理工具port。</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">ruby -e <span class="s2">&quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</span>
</code></pre></div>
<h5 id="通过homebrew安装一些实用工具">通过Homebrew安装一些实用工具</h5>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">brew update
brew install curl wget tree gnu-sed gawk rename
</code></pre></div>
<h5 id="通过homebrew安装一些常用服务">通过Homebrew安装一些常用服务</h5>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">brew update
brew install redis mysql postgresql mongodb sqlite nginx
</code></pre></div>
<h4 id="vim-vs.-emacs">Vim vs. Emacs</h4>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c"># Install MacVim</span>
brew install macvim --with-cscope --with-lua --override-system-vim
<span class="c"># Install Emacs</span>
brew install emacs --cocoa --srgb
</code></pre></div>
<ol>
<li>喜欢Vim的看<a href="http://coolshell.cn/articles/11312.html">这里</a>。</li>
<li>喜欢Emacs的看<a href="http://www.masteringemacs.org/">这里</a>，给个现成的<a href="https://github.com/purcell/emacs.d">.emacs.d</a>。</li>
</ol>

<h4 id="准备ruby开发环境">准备Ruby开发环境</h4>

<h5 id="安装ruby">安装Ruby</h5>

<ol>
<li><p>通过<a href="https://github.com/sstephenson/rbenv">rbenv</a>安装ruby</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">brew update
brew install rbenv ruby-build
rbenv versions
rbenv install 2.0.0-p247
</code></pre></div></li>
<li><p>通过<a href="https://rvm.io/">RVM</a>安装ruby</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c"># install rvm on /usr/local/rvm</span>
curl -sSL https://get.rvm.io <span class="p">|</span> sudo bash -s stable
sudo chown -R YOURNAME:rvm /usr/local/rvm
rvm reload
rvm list known
<span class="c"># Install latest stable ruby version</span>
rvm install 2.1.2
rvm use 2.1.2 —default

<span class="c"># update RVM</span>
rvmsudo rvm get stable
sudo chown -R YOURNAME:rvm /usr/local/rvm
</code></pre></div></li>
</ol>

<h5 id="安装常用的gem">安装常用的gem</h5>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">gem install pry rails bundler --no-ri --no-rdoc
gem install jekyll
gem install sinatra
</code></pre></div>
<h5 id="开发工具选择">开发工具选择</h5>

<ol>
<li>EDITOR (TextMate, MacVim, Sublime) + iTerm</li>
<li>RubyMime</li>
</ol>

<h4 id="准备java的开发环境">准备Java的开发环境</h4>

<h5 id="安装jdk">安装JDK</h5>

<p>我们可以从Oracle官网上去<a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">下载</a>JDK的最新版本，目前最新版本是JDK8，建议把JDK7和JDK8都装上，可以在~/.zshrc文件指定JAVA_HOME的路径来切换Java的版本。</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">#export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.8.0_25.jdk/Contents/Home
export JAVA_HOME=/Library/Java/JavaVirtualMachines/jdk1.7.0_67.jdk/Contents/Home
</code></pre></div>
<p>注意：具体Java版本以你本地安装的版本为准。</p>

<h5 id="安装maven">安装Maven</h5>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">brew install maven
</code></pre></div>
<h5 id="jvm语言">JVM语言</h5>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c"># Groovy</span>
brew install groovy
brew install grails
<span class="c"># Scala</span>
brew install scala
brew install sbt 
<span class="nb">echo</span> <span class="s1">&#39;SBT_OPTS=&quot;-XX:+CMSClassUnloadingEnabled -XX:PermSize=256M -XX:MaxPermSize=512M -Xmx2G&quot;&#39;</span> &gt;&gt; ~/.sbtconfig
brew install typesafe-activator
<span class="c"># Clojure</span>
brew install leiningen
</code></pre></div>
<h5 id="开发工具选择">开发工具选择</h5>

<ol>
<li>IDE (IntelliJ IDEA, Eclipse, Netbeans)</li>
<li><a href="http://www.braveclojure.com/using-emacs-with-clojure/">Emacs</a>(Clojure语言开发推荐)</li>
</ol>

<h4 id="准备node开发环境">准备Node开发环境</h4>

<h5 id="安装node和npm">安装node和npm</h5>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">brew install node --enable-debug
</code></pre></div>
<h5 id="在~/.zshrc配置全局node_path">在~/.zshrc配置全局NODE_PATH</h5>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="nb">export </span><span class="nv">NODE_PATH</span><span class="o">=</span><span class="s2">&quot;/usr/local/lib/node_modules/&quot;</span>
</code></pre></div>
<h5 id="常用命令介绍">常用命令介绍</h5>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c"># 查看 npm 安装的内容</span>
npm list     <span class="c"># 本地</span>
npm list -g  <span class="c"># 全局</span>

npm outdated <span class="o">[</span>-g<span class="o">]</span> <span class="c"># 查看过期的包（本地或全局）</span>
npm update <span class="o">[</span>&lt;package&gt;<span class="o">]</span> <span class="c"># 更新全部或特别指定一个包</span>
npm uninstall &lt;package&gt; <span class="c"># 卸载包</span>
</code></pre></div>
<h5 id="安装常用的组件">安装常用的组件</h5>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">npm install -g coffee-script
npm install -g less
npm install -g grunt-cli
npm install -g gulp

npm install -g express
npm install jquery
</code></pre></div>
<h5 id="开发工具的选择">开发工具的选择</h5>

<ol>
<li>WebStorm</li>
<li>EDITOR (MacVim, Sublime, Textmate) + iTerm</li>
</ol>

<h4 id="搭建php开发环境">搭建PHP开发环境</h4>

<h5 id="安装php和启动fcgi">安装PHP和启动fcgi</h5>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">brew tap homebrew/homebrew-php
<span class="c"># Install php-cgi</span>
brew reinstall php56 --with-mysql --with-cgi --with-pgsql --with-homebrew-curl --without-pear

<span class="c"># Install fcgi</span>
brew install spawn-fcgi

<span class="c"># Start fcgi</span>
spawn-fcgi -a 127.0.0.1 -p <span class="m">6666</span> -C <span class="m">6</span> -f /usr/local/bin/php-cgi -u james -d /u/var/run/fcgi -P /u/var/run/fcgi/spawn_fcgi.pid &gt; /dev/null
</code></pre></div>
<p>更多安装选项可以使用<code>brew options php56</code>查看。</p>

<h5 id="测试php环境">测试PHP环境</h5>

<h6 id="nginx-配置"><code>Nginx</code> 配置</h6>
<div class="highlight"><pre><code class="language-text" data-lang="text">http {
    upstream fastcgi_server {
        server  127.0.0.1:6666;
    }
    server {
        listen              80;
        server_name         localhost;
        index               index.html index.htm index.php;

        location / {
            root            /u/var/www;
            index           index.php index.html index.htm;
        }
        location ~ \.php$ {
            root            /u/var/www;
            fastcgi_pass    fastcgi_server;
            fastcgi_index   index.php;
            fastcgi_param   SCRIPT_FILENAME  $document_root/$fastcgi_script_name;
            include         conf/fastcgi_params;
        }
    }
}
</code></pre></div>
<h6 id="测试页面(index.php)">测试页面(<code>index.php</code>)</h6>
<div class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
    <span class="nb">phpinfo</span><span class="p">();</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>
<p>访问http://localhost/index.php页面即可以查看PHP环境是否搭建成功。</p>

<h5 id="开发工具的选择">开发工具的选择</h5>

<ol>
<li>IDE (PhpStorm, Eclipse, Zend Studio, Komodo, Netbeans) </li>
<li>EDITOR (MacVim, Emacs, Sublime) + iTerm</li>
</ol>

<h4 id="其他编程语言">其他编程语言</h4>

<p>如果你是编程语言控，在OS X下你可以很方便地使用各种编程语言。</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c"># C++</span>
<span class="nb">alias </span><span class="nv">cppcompile</span><span class="o">=</span><span class="s1">&#39;c++ -std=c++11 -stdlib=libc++&#39;</span>

<span class="c"># install python 2.7</span>
brew install python
<span class="c"># install python 3</span>
brew install python3

<span class="c"># ANSI Common Lisp</span>
brew install clisp
<span class="c"># Scheme</span>
brew install mit-scheme
<span class="c"># newLISP</span>
brew install newlisp

<span class="c"># Smalltalk</span>
brew install gnu-smalltalk --tcltk

<span class="c"># Go语言</span>
brew install go

<span class="c"># Prolog</span>
brew install swi-prolog --with-jpl --with-xpce 
<span class="c"># Erlang</span>
brew install erlang

<span class="c"># Lua</span>
brew install lua
<span class="c"># Io语言</span>
brew install io
</code></pre></div>
<h2 id="一些实用技巧">一些实用技巧</h2>

<h3 id="挂载硬盘到指定目录">挂载硬盘到指定目录</h3>

<p>这里，我们演示如何把第二块硬盘挂载到/opt目录。</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c"># 列出当前所有硬盘信息</span>
diskutil list
<span class="c"># diskN 一般代表第N个硬盘，diskNS1一般表示EFI分区信息，diskNS2一般表示我们的目标分区卷。</span>
<span class="c"># 列出指定硬盘的详细信息，这里面我们可以得到它的UUID信息</span>
diskutil info /Volumes/HHD

<span class="c">#如果挂载点目录不存在，需要先创建它</span>
<span class="c"># sudo mkdir /opt</span>
<span class="c"># 把第二块硬盘加载到/opt目录</span>
diskutil mount -mountPoint /opt/  /dev/disk2s2

<span class="c"># 注意，如果你的硬盘已经挂载到了具体目录，比如/Volumes/HDD，在挂载前，你必须先卸载它。</span>
diskutil unmount  /dev/disk2s2
</code></pre></div>
<p>通过以上的命令，我们确实可以做到把硬盘挂载到具体目录，然后当我们机器重启后，通过刚刚命令修改的配置就会失效。如果我们想固定把硬盘加载到某个目录（尤其当我们第二块硬盘也是内置硬盘）时，又当如何处理呢？事实上，非常简单，执行如下命令，在<code>fstab</code>中加入一条记录即可。</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">sudo vifs
</code></pre></div>
<p>我的电脑配置记录如下：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">UUID=DE74EC97-3EFC-3197-AC0E-AC596773D738 /opt hfs rw 1 0
</code></pre></div>
<p>注意：UUID即为命令<code>diskutil</code>查看该卷详情得到的<code>Volume UUID</code>，在挂载前，必须保证挂载的目录已经存在.</p>

<h3 id="finder显示默认隐藏的文件">Finder显示默认隐藏的文件</h3>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c"># 显示所有隐藏文件</span>
defaults write com.apple.finder AppleShowAllFiles -bool YES
killall Finder

<span class="c"># 取消显示所有隐藏文件</span>
defaults write com.apple.finder AppleShowAllFiles -bool NO
killall Finder
</code></pre></div>
<h3 id="timemachine中命令行操作权限问题">TimeMachine中命令行操作权限问题</h3>

<h5 id="删除指定的目录">删除指定的目录</h5>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c"># Before OSX 10.9</span>
sudo /System/Library/Extensions/TMSafetyNet.kext/Helpers/bypass rm -frv 2011-10-16-232226/Macintosh<span class="se">\ </span>HD/opt/ 
<span class="c"># After OSX 10.10</span>
sudo /System/Library/Extensions/TMSafetyNet.kext/Contents/Helpers/bypass rm -frv 2011-10-16-232226/Macintosh<span class="se">\ </span>HD/opt/ 
<span class="c"># DELETE All .DS_Store</span>
sudo /System/Library/Extensions/TMSafetyNet.kext/Contents/Helpers/bypass find . -name <span class="s1">&#39;.DS_Store&#39;</span> -print -delete
</code></pre></div>
<p>重装完系统，特别是在有第二块硬盘的情况下，在使用TimeMachine的时候，会发现整个硬盘很有可能要重新备份，而不是在原来的基础上增量备份，这无疑是对备份空间的巨大浪费，如果你之前已经备份了该磁盘的话，可以强制把TimeMachine中的对应备份强制恢复到该分区即可解决这个问题。</p>

<h3 id="视频格式转换">视频格式转换</h3>

<p>在Windows下，我们有很多视频格式转换的工具，尽管良莠不齐，但是只要有耐心，总是可以达到转换的要求，在OS X下，App Store上也可以找到一些转码工具，但是一般都价格不菲。事实上，绝大部分视频转码工具底层都用到了FFmpeg，而FFmpeg是完全开源和免费的，既然如此，我们为何不直接使用ffmpeg来进行视音频的转码处理呢。</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c"># 查看ffmpeg的安装选项，可以按照你自己的要求选装</span>
brew info ffmpeg

<span class="c"># 安装FFmpeg</span>
brew install ffmpeg --with-fdk-aac --without-faac

<span class="c">#列出支持的编解码器</span>
ffmpeg -codecs

<span class="c">#列出支持的滤镜</span>
ffmpeg -filters

<span class="c">#列出支持的格式</span>
ffmpeg -formats

<span class="c"># 把光驱DVD格式文件转成MP4格式</span>
cat VIDEO_TS.VOB VTS_01_0.VOB VTS_01_1.VOB VTS_01_2.VOB <span class="p">|</span> ffmpeg -i - ~/mika_01.mp4

<span class="c"># 抽取flv视频中的音频</span>
ffmpeg -i INPUT.flv -acodec libmp3lame -ab 128k OUTPUT.mp3

<span class="c"># 把AVI格式转换成MP4格式</span>
ffmpeg -i INPUT.avi -f mp4 -vcodec mpeg4 -maxrate <span class="m">1000</span> -b <span class="m">700</span> -qmin <span class="m">3</span> -qmax <span class="m">5</span> -bufsize <span class="m">4096</span> -g <span class="m">300</span> -acodec aac -ab <span class="m">192</span> -s 320x240 -aspect 4:3 OUTPUT.mp4 
</code></pre></div>
<p>注：FFmpeg是一个开源免费跨平台的视频和音频流方案，属于自由软件，采用LGPL或GPL许可证（依据你选择的组件）。它提供了录制、转换以及流化音视频的完整解决方案。</p>

<h3 id="extended-attributes-(eas)">Extended Attributes (EAs)</h3>

<p>当我们使用<code>ls -l</code>查看文件目录时，细心的同学会发现有些文件的ACL后面都多一个@，这个就是我们这节要讨论的扩展属性。  </p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">-rw-r--r--@ <span class="m">1</span> james  admin     <span class="m">3409417</span> Oct <span class="m">21</span> 22:54 CoRD.zip
-rw-r--r--@ <span class="m">1</span> james  admin      <span class="m">755402</span> Oct <span class="m">21</span> 22:54 HexFiend.zip
</code></pre></div>
<p>在UNIX/Linux当中，文件可以拥有rwx之外的扩展属性，在本例中，测试的几个文件打上了颜色的tag，要查看扩展属性的详情，可以使用命令<code>ls -l@</code>查看。</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">-rw-r--r--@ <span class="m">1</span> james  admin     <span class="m">3409417</span> Oct <span class="m">21</span> 22:54 CoRD.zip
    com.apple.FinderInfo            32
    com.apple.metadata:_kMDItemUserTags         53
-rw-r--r--@ <span class="m">1</span> james  admin      <span class="m">755402</span> Oct <span class="m">21</span> 22:54 HexFiend.zip
    com.apple.FinderInfo            32
    com.apple.metadata:_kMDItemUserTags         53
</code></pre></div>
<p>可以使用<code>xattr</code>命令来操作扩展属性。</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">xattr -d com.apple.metadata:_kMDItemUserTags CoRD.zip
xattr -w hello world CoRD.zip
</code></pre></div>
<p><code>ls -l@ CoRD.zip</code>结果如下：</p>
<div class="highlight"><pre><code class="language-sh" data-lang="sh">-rw-r--r--@ <span class="m">1</span> james  admin   3.3M Oct <span class="m">21</span> 22:54 CoRD.zip
    hello      5B
</code></pre></div>
<p>使用<code>xattr -cr TARGET</code>可以清空目标文件所有的扩展属性信息，这个对于从TimeMachine拷贝出来的文件批量清除扩展属性特别有效。</p>

<p>另外，在复制文件的过程中，<code>cp</code>指定<code>-X</code>可以取消复制EAs。</p>

<h3 id="常用的命令">常用的命令</h3>
<div class="highlight"><pre><code class="language-sh" data-lang="sh"><span class="c"># 删除所有.DS_Store文件</span>
sudo find / -name <span class="s1">&#39;.DS_Store&#39;</span> -print -delete
<span class="c"># 删除当前目录下所有空子目录 </span>
find . -type d -empty -delete -print

<span class="c"># 找出目录下大于100M的文件</span>
find . -type f -size +100000k 
find . -type f -size +100000k -exec ls -lh <span class="o">{}</span> <span class="se">\;</span> <span class="p">|</span> awk <span class="s1">&#39;{ print $5 &quot; =&gt; &quot; $9 &quot; &quot; $10 }&#39;</span> 

<span class="c"># 使用tail实时监控日志</span>
tail -fn <span class="m">500</span> /var/log/messages <span class="c">#参数-f使tail不停地去读最新的内容，这样有实时监视的效果</span>

<span class="c"># 分割和合并文件</span>
split -b 300m BIGFILE PREFIX
cat PREFIX* &gt; BIGFILE

<span class="c"># 查看目录大小</span>
du -sh /opt
<span class="c"># 查看本地磁盘使用信息</span>
df -h

<span class="c"># 查看当前使用的SHELL名称</span>
<span class="nb">echo</span> <span class="nv">$SHELL</span>
<span class="nb">echo</span> <span class="nv">$0</span>
env <span class="p">|</span> grep SHELL
cat /etc/passwd <span class="p">|</span> grep USERNAME

<span class="c"># SCP常用操作</span>
<span class="c"># 获取远程服务器上的文件</span>
scp -P <span class="m">22</span> admin@192.168.1.96:/home/admin/test.tar.gz ~/test.tar.gz
<span class="c"># 获取远程服务器上的目录</span>
scp -P <span class="m">22</span> -r admin@192.168.1.96:/home/admin/test/ ~/test
<span class="c"># 将本地文件上传到服务器上</span>
scp -P <span class="m">22</span> /home/james/test.tar.gz admin@192.168.1.96:/home/admin/test.tar.gz
<span class="c"># 将本地目录上传到服务器上</span>
scp -P <span class="m">22</span> -r /home/james/test/ admin@192.168.1.96:/home/admin/test


<span class="c"># 批量重命名文件</span>
<span class="c"># 本例演示了把当前目录下的所有MP3文件的名称去除多余的字符，只保留序号。</span>
rename <span class="s1">&#39;s/.+(\d+).mp3/$1.mp3/&#39;</span> *.mp3

<span class="c"># 批量下载整个网站</span>
wget -r -np http://www.sandpile.org/

<span class="c"># 批量Unlock文件</span>
chflags -R nouchg /PATH/TO/DIRECTORY/WITH/LOCKED/FILES/

<span class="c"># 一些查看用户和系统信息的命令</span>
id
finger
uname -a
<span class="nb">ulimit</span> -a
</code></pre></div>
<h2 id="一些小工具">一些小工具</h2>

<ul>
<li><a href="http://pan.baidu.com/s/1gd7rq4V">CoRD</a> 一款远程桌面工具，连远程Windows桌面效果还不错。</li>
<li><a href="http://pan.baidu.com/s/1i3wxLTb">HexFriend</a>, <a href="http://pan.baidu.com/s/1qWHOpUs">0xED</a> 比较实用的二进制编辑工具。</li>
<li><a href="http://pan.baidu.com/s/1qW0ntj2">MacDjView</a> 如果你有djvu格式的图书，这个工具可以帮到你。</li>
</ul>

        </article>

        <div class="row-fluid">
            <ul class="list-inline">
                <li><i class="glyphicon glyphicon-folder-open"></i></li>
                
                
    
    <li class="tag"><a href="/categories/osx.html">OS X<span>1</span></a></li>
    

            </ul>
            <ul class="list-inline">
                <li><i class="glyphicon glyphicon-tags"></i></li>
                
                
    
    <li class="tag"><a href="/tags/osx.html">OS X<span>2</span></a></li>
    

    
    <li class="tag"><a href="/tags/javascript.html">JavaScript<span>9</span></a></li>
    

    
    <li class="tag"><a href="/tags/ruby.html">Ruby<span>5</span></a></li>
    

    
    <li class="tag"><a href="/tags/php.html">PHP<span>1</span></a></li>
    

    
    <li class="tag"><a href="/tags/java.html">Java<span>2</span></a></li>
    

            </ul>
        </div>

        <div class="row-fluid">
            <ul class="pagination pull-right">
                
                <li class="prev"><a href="/2014/09/28/github-pages-with-comments.html" title="如何实现Github博客评论功能">&larr; 上一篇</a></li>
                
                <li><a href="http://jameszhan.github.io">Archive</a></li>
                
                <li class="next"><a href="/2015/02/28/git-from-bottom-to-top.html" title="当执行Git命令时，Git做了什么">下一篇 &rarr;</a>
                </li>
                
            </ul>
        </div>
    </div>

    <div data-include="/assets/tpls/widgets/comments.tpl"></div>
</div>

<div class="col-md-3">
    <div data-include="/assets/tpls/widgets/tags.tpl"></div>
<div data-include="/assets/tpls/widgets/categories.tpl"></div>

</div>


</div>

<div class="container" data-include="/assets/tpls/footer.tpl"></div>

<div class="modal fade" id="globalModal" tabindex="-1" role="dialog" aria-labelledby="globalModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
        </div>
    </div>
</div>

<script type="text/javascript" src="/assets/javascripts/firing.js"></script>
<div class="analytics">
    <script type="text/javascript" src="/assets/javascripts/analytics.js"></script>
</div>
</body>
</html>