<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>å°½ç®¡æ‰¯æ·¡-Lambdaæ¼”ç®—ä¹‹è‡ªç„¶æ•°</title>
    <meta name="description" content="èµ„æ·±ç å†œï¼ŒæŠ€æœ¯å…´è¶£å¹¿æ³›ï¼Œå¥½è¯»ä¹¦ï¼Œæ±‚ç”šè§£">
    <link rel="canonical" href="http://jameszhan.github.io/2014/09/10/lambda-church-number.html">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
	<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="/assets/stylesheets/main.css">
</head>


<body>

<header class="navbar navbar-inverse navbar-fixed-top" role="banner" data-include="/assets/tpls/header.tpl"></header>

<div class="container">
    <div class="col-md-9">
    <div class="post">

        <header class="post-header">
            <h1 class="post-title">Lambdaæ¼”ç®—ä¹‹è‡ªç„¶æ•°</h1>
            <p class="post-meta">
                2014å¹´09æœˆ10æ—¥ â€¢
                è©¹å­çŸ¥(James Zhan) â€¢
                ç‰ˆæƒæ‰€æœ‰ï¼Œè½¬è½½é¡»å£°æ˜å‡ºå¤„
            </p>
        </header>

        <article class="post-content">
            <p>Î»æ¼”ç®—ï¼ˆè‹±è¯­ï¼šlambda calculusï¼ŒÎ»-calculusï¼‰æ˜¯ä¸€å¥—ç”¨äºç ”ç©¶å‡½æ•°å®šä¹‰ã€å‡½æ•°åº”ç”¨å’Œé€’å½’çš„å½¢å¼ç³»ç»Ÿã€‚å®ƒç”±é˜¿éš†ä½Â·é‚±å¥‡å’Œä»–çš„å­¦ç”Ÿæ–¯è’‚èŠ¬Â·ç§‘å°”Â·å…‹è±å°¼åœ¨20ä¸–çºª30å¹´ä»£å¼•å…¥ã€‚è¿™ç§æ¼”ç®—å¯ä»¥ç”¨æ¥æ¸…æ™°åœ°å®šä¹‰ä»€ä¹ˆæ˜¯ä¸€ä¸ªå¯è®¡ç®—å‡½æ•°ã€‚</p>

<h2 id="î»æ¼”ç®—è§„åˆ™">Î»æ¼”ç®—è§„åˆ™</h2>
<div class="highlight"><pre><code class="language-text" data-lang="text">  &lt;expression&gt; := &lt;name&gt; | &lt;function&gt; | &lt;application&gt;
  &lt;function&gt; := Î»&lt;name&gt;.&lt;expression&gt;
  &lt;application&gt; := &lt;expression&gt;&lt;expression&gt;
</code></pre></div>
<h3 id="î±-å˜æ¢">Î±--å˜æ¢</h3>

<p>Î±å˜æ¢è§„åˆ™è¡¨è¾¾çš„æ˜¯ï¼Œè¢«ç»‘å®šå˜é‡çš„åç§°æ˜¯ä¸é‡è¦çš„ã€‚
Î±å˜æ¢è§„åˆ™é™ˆè¿°çš„æ˜¯ï¼Œè‹¥vä¸wå‡ä¸ºå˜é‡ï¼ŒEæ˜¯ä¸€ä¸ªlambdaè¡¨è¾¾å¼ï¼ŒåŒæ—¶E[v/w]æ˜¯æŒ‡æŠŠè¡¨è¾¾å¼Eä¸­çš„æ‰€æœ‰çš„vçš„è‡ªç”±å‡ºç°éƒ½æ›¿æ¢æˆwï¼Œé‚£ä¹ˆåœ¨wä¸æ˜¯Eä¸­çš„ä¸€ä¸ªè‡ªç”±å‡ºç°ï¼Œä¸”å¦‚æœwæ›¿æ¢äº†vï¼Œwä¸ä¼šè¢«Eä¸­çš„Î»ç»‘å®šçš„æƒ…å†µä¸‹ï¼Œæœ‰
  Î»v.E == Î»w.E[v/w]
  ä¾‹å¦‚ï¼šÎ»x.(Î»x.x)x &lt;=&gt; Î»y.(Î»x.x)y</p>

<h3 id="î²-è§„çº¦">Î²--è§„çº¦</h3>

<p>Î²è§„çº¦è§„åˆ™è¡¨è¾¾çš„æ˜¯å‡½æ•°ä½œç”¨çš„æ¦‚å¿µï¼Œå®ƒé™ˆè¿°äº†æ‰€æœ‰çš„Eâ€˜çš„è‡ªç”±å‡ºç°åœ¨E[v/E&#39;]ä¸­ä»ç„¶æ˜¯è‡ªç”±çš„æƒ…å†µä¸‹ï¼Œæœ‰ ((Î»v.E)E&#39;) == E[v/E&#39;] æˆç«‹ã€‚</p>

<h3 id="î·-å˜æ¢">Î·--å˜æ¢</h3>

<p>Î·å˜æ¢è¡¨è¾¾çš„æ˜¯å¤–å»¶æ€§çš„æ¦‚å¿µï¼Œåœ¨è¿™é‡Œå¤–å»¶æ€§æŒ‡çš„æ˜¯ï¼Œä¸¤ä¸ªå‡½æ•°å¯¹äºæ‰€æœ‰çš„å‚æ•°å¾—åˆ°çš„ç»“æœä¸€è‡´ï¼Œå½“ä¸”ä»…å½“å®ƒä»¬æ˜¯åŒä¸€ä¸ªå‡½æ•°ï¼ŒÎ·å˜æ¢å¯ä»¥ä»¤ Î»x.fxå’Œfç›¸äº’äº¤æ¢ï¼Œåªè¦xä¸æ˜¯fä¸­çš„è‡ªç”±å‡ºç°ã€‚</p>

<h2 id="î»æ¼”ç®—çš„åº”ç”¨">Î»æ¼”ç®—çš„åº”ç”¨</h2>

<p>åœ¨lambdaæ¼”ç®—ç³»ç»Ÿä¸­ï¼Œä¸€åˆ‡äº‹ç‰©éƒ½å¯ä»¥ä½¿ç”¨è¿‡ç¨‹æ¥æè¿°ã€‚é‚£ä¹ˆåœ¨å‡½æ•°å¼ç¼–ç¨‹ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬éœ€è¦å¦‚ä½•æ¥æè¿°ä¸€ç§ç±»å‹å‘¢ï¼Ÿç±»å‹çš„æœ¬è´¨åœ¨äºå®ƒæ‰€å®šä¹‰çš„æ“ä½œä»¥åŠæ“ä½œä¹‹é—´çš„å…³ç³»å’Œä¸å˜å¼ã€‚ç±»å‹çš„å®ç°å…³é”®åœ¨äºæ»¡è¶³ç±»å‹è§„èŒƒçš„è¦æ±‚ï¼Œè€Œå…·ä½“å®ç°æ˜¯å¯ä»¥å˜åŒ–çš„ï¼Œä½¿ç”¨è€…å’Œæµ‹è¯•ç”¨ä¾‹éƒ½åº”è¯¥åªä¾èµ–äºç±»å‹è§„èŒƒè€Œä¸ä¾èµ–äºå…·ä½“å®ç°ã€‚å‡½æ•°å¼çš„ç±»å‹å®ç°å¾€å¾€å’Œç±»å‹è§„èŒƒæ˜¯ç›´æ¥å¯¹åº”çš„ï¼Œç®€å•é€šç”¨ï¼Œä½†å¯èƒ½æœ‰æ€§èƒ½é—®é¢˜ï¼Œè€Œå‘½ä»¤å¼çš„ç±»å‹å®ç°å¾€å¾€ä¼šå¼•å…¥å¤æ‚çš„å†…éƒ¨æ•°æ®ç»“æ„ï¼Œä½†æ˜¯å…¶ä¼˜ç‚¹æ˜¯é«˜æ•ˆã€‚è¿™ä¸¤ç§å®ç°å¹¶ä¸æ˜¯å®Œå…¨äº’æ–¥çš„ï¼Œæœ‰æ—¶å€™å¯ä»¥å°†äºŒè€…ç›¸ç»“åˆè¾¾åˆ°ç®€å•ä¸é«˜æ•ˆçš„ç»“åˆã€‚</p>

<h3 id="å½¢å¼å®šä¹‰">å½¢å¼å®šä¹‰</h3>

<p>åœ¨lambdaæ¼”ç®—ä¸­æœ‰è®¸å¤šæ–¹å¼éƒ½å¯ä»¥å®šä¹‰è‡ªç„¶æ•°ï¼Œä½†æœ€å¸¸è§çš„è¿˜æ˜¯é‚±å¥‡æ•°ï¼Œä¸‹é¢æ˜¯å®ƒä»¬çš„å®šä¹‰ï¼š</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">  0 := Î»f.Î»x.x
  1 := Î»f.Î»x.f x
  2 := Î»f.Î»x.f (f x)
  3 := Î»f.Î»x.f (f (f x))
</code></pre></div>
<p>ä»¥æ­¤ç±»æ¨ã€‚ç›´è§‚åœ°è¯´ï¼Œlambdaæ¼”ç®—ä¸­çš„æ•°å­—nå°±æ˜¯ä¸€ä¸ªæŠŠå‡½æ•°fä½œä¸ºå‚æ•°å¹¶ä»¥fçš„næ¬¡å¹‚ä¸ºè¿”å›å€¼çš„å‡½æ•°ã€‚æ¢å¥è¯è¯´ï¼Œé‚±å¥‡æ•´æ•°æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•° -- ä»¥å•ä¸€å‚æ•°å‡½æ•°fä¸ºå‚æ•°ï¼Œè¿”å›å¦ä¸€ä¸ªå•ä¸€å‚æ•°çš„å‡½æ•°ã€‚</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">  SUCC  := Î»n.Î»f.Î»x.f (n f x)
  PLUS  := Î»m.Î»n.m SUCC n
  PLUS  := Î»m.Î»n.Î»f.Î»x.m f (n f x)
  MULT  := Î»m.Î»n.m (PLUS n) 0
  MULT  := Î»m.Î»n.Î»f.m (n f)
  PRED  := Î»n.Î»f.Î»x.n (Î»g.Î»h.h (g f)) (Î»u.x) (Î»u.u)
  SUB   := Î»m.Î»n.n PRED m
  EXP   := Î»a.Î»n.n a
</code></pre></div>
<h3 id="clojureæè¿°">Clojureæè¿°</h3>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="kd">defn </span><span class="nv">zero</span> <span class="p">[</span><span class="nv">f</span><span class="p">]</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">x</span><span class="p">]</span> <span class="nv">x</span><span class="p">))</span>
<span class="p">(</span><span class="kd">defn </span><span class="nv">succ</span> <span class="p">[</span><span class="nv">n</span><span class="p">]</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">f</span><span class="p">]</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">x</span><span class="p">]</span> <span class="p">(</span><span class="nf">f</span> <span class="p">((</span><span class="nf">n</span> <span class="nv">f</span><span class="p">)</span> <span class="nv">x</span><span class="p">)))))</span>
</code></pre></div>
<p>å…¶å®åªè¦å®šä¹‰å‡ºzeroå’Œsuccä¸¤ä¸ªï¼Œæˆ‘ä»¬å°±å¯ä»¥å®šä¹‰å‡ºæ‰€æœ‰çš„è‡ªç„¶æ•°ã€‚</p>

<p>ä½ å¯ä»¥ä½¿ç”¨å¦‚ä¸‹çš„æ–¹å¼ç»™å‡ºzeroå’Œsuccçš„å®šä¹‰ã€‚</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="kd">defn </span><span class="nv">zero</span> <span class="p">[</span><span class="nv">f</span> <span class="nv">x</span><span class="p">]</span> <span class="nv">x</span><span class="p">)</span>
<span class="p">(</span><span class="kd">defn </span><span class="nv">succ</span> <span class="p">[</span><span class="nv">n</span><span class="p">]</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">f</span> <span class="nv">x</span><span class="p">]</span> <span class="p">(</span><span class="nf">f</span> <span class="p">(</span><span class="nf">n</span> <span class="nv">f</span> <span class="nv">x</span><span class="p">))))</span>
</code></pre></div>
<p>æ˜¯ä¸æ˜¯ç®€æ´äº†è®¸å¤šï¼Œä½†æ˜¯ä¸è¦è¢«è¡¨é¢çš„ç®€æ´æ‰€è¿·æƒ‘ï¼Œlambdaæ¼”ç®—åŸºäºçš„éƒ½æ˜¯å•å‚æ•°çš„å‡½æ•°ï¼Œè¿™æ ·å‡½æ•°å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¾—åˆ°ä¸€è‡´æ€§çš„å¤„ç†ã€‚å¦‚æœä½ ä½¿ç”¨Haskellæ¥ä½¿ç”¨ä¸Šè¿°å®šä¹‰ï¼Œè¿™ä¸ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œ
å› ä¸ºå…¶åº•å±‚æœ¬èº«å°±æ˜¯ä½¿ç”¨curryingæ¥æè¿°å¤šå‚å‡½æ•°çš„ã€‚ç„¶è€ŒClojureå´æ˜¯ä¸¥æ ¼åŒºåˆ†å‡½æ•°çš„å…¥å‚ä¸ªæ•°çš„ï¼Œä¸€æ—¦ä½ ä½¿ç”¨ä¸Šè¿°å®šä¹‰ï¼Œè‡ªç„¶æ•°çš„è®¸å¤šæ“ä½œå°†æ— æ³•å¾ˆå®¹æ˜“åœ°æ¨è®ºå¾—åˆ°ã€‚äº‹å®ä¸Šï¼Œä½¿ç”¨curryingï¼Œ
æˆ‘ä»¬å¯ä»¥å¾ˆæ–¹ä¾¿åœ°ä½¿ç”¨å•å‚å‡½æ•°æ¨¡æ‹Ÿå¤šå‚å‡½æ•°ï¼Œä½†æ˜¯åè¿‡æ¥å´ä¸ä¸€å®šã€‚æœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥å‚è€ƒï¼š<a href="https://github.com/jameszhan/prototypes/blob/master/lambda/church-number.clj" title="å¤šå‚å®ç°æºä»£ç ">å¤šå‚æè¿°è‡ªç„¶æ•°</a>.</p>

<p>æˆ‘ä»¬å¯ä»¥æ ¹æ®ä»£æ•°å˜æ¢çš„å½¢å¼å¾—å‡ºone, two, threeçš„å®šä¹‰ã€‚</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">one = (succ zero)
    = (fn [f] (fn [x] (f (((zero) f) x))))
    = (fn [f] (fn [x] (f ((fn [x] x) x))))
    = (fn [f] (fn [x] (f x)))

two = (succ one)
    = (fn [f] (fn [x] (f (((one) f) x))))
    = (fn [f] (fn [x] (f ((fn [x] (f x)) x))))
    = (fn [f] (fn [x] (f (f x))))
</code></pre></div>
<p>æ ¹æ®ä»¥ä¸Šçš„æ¨å¯¼è¿‡ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°å‘ç°è§„å¾‹ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå‘ç°æ•°å­—nçš„å®šä¹‰ä¸º</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="kd">defn </span><span class="nv">n</span> <span class="p">[</span><span class="nv">f</span><span class="p">]</span> <span class="p">(</span><span class="nf">fn</span><span class="p">[</span><span class="nv">x</span><span class="p">]</span> <span class="p">(</span><span class="nf">f...</span><span class="p">(</span><span class="nf">f</span> <span class="nv">x</span><span class="p">))))</span>
</code></pre></div>
<p>ï¼Œå…¶ä¸­(f...(f x))ä¸­æœ‰nä¸ªfã€‚</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="kd">defn </span><span class="nv">one</span> <span class="p">[</span><span class="nv">f</span><span class="p">]</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">x</span><span class="p">]</span> <span class="p">(</span><span class="nf">f</span> <span class="nv">x</span><span class="p">)))</span>
<span class="p">(</span><span class="kd">defn </span><span class="nv">two</span> <span class="p">[</span><span class="nv">f</span><span class="p">]</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">x</span><span class="p">]</span> <span class="p">(</span><span class="nf">f</span> <span class="p">(</span><span class="nf">f</span> <span class="nv">x</span><span class="p">))))</span>
<span class="p">(</span><span class="kd">defn </span><span class="nv">three</span> <span class="p">[</span><span class="nv">f</span><span class="p">]</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">x</span><span class="p">]</span> <span class="p">(</span><span class="nf">f</span> <span class="p">(</span><span class="nf">f</span> <span class="p">(</span><span class="nf">f</span> <span class="nv">x</span><span class="p">)))))</span>
</code></pre></div>
<p>æ ¹æ®å®šä¹‰ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ç»™å‡ºplusï¼Œmultï¼Œexpçš„å®šä¹‰ï¼Œå› ä¸º+ï¼Œ<em>ï¼Œ</em>*åœ¨è‡ªç„¶æ•°çš„æ“ä½œé‡Œé¢æ˜¯å°é—­çš„ï¼Œæ‰€ä»¥å…¶å®šä¹‰è¿˜æ˜¯ç›¸å½“ç®€æ´å’Œç›´è§‚çš„ã€‚</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="kd">defn </span><span class="nv">plus</span> <span class="p">[</span><span class="nv">m</span><span class="p">]</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">n</span><span class="p">]</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">f</span><span class="p">]</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">x</span><span class="p">]</span> <span class="p">((</span><span class="nf">m</span> <span class="nv">f</span><span class="p">)</span> <span class="p">((</span><span class="nf">n</span> <span class="nv">f</span><span class="p">)</span> <span class="nv">x</span><span class="p">))))))</span>
<span class="p">(</span><span class="kd">defn </span><span class="nv">mult</span> <span class="p">[</span><span class="nv">m</span><span class="p">]</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">n</span><span class="p">]</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">f</span><span class="p">]</span> <span class="p">(</span><span class="nf">n</span> <span class="p">(</span><span class="nf">m</span> <span class="nv">f</span><span class="p">)))))</span>
<span class="c1">;(defn mult [m n] (fn [f] (fn [x] ((n (m f)) x))))</span>
<span class="p">(</span><span class="kd">defn </span><span class="nv">exp</span> <span class="p">[</span><span class="nv">a</span><span class="p">]</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">n</span><span class="p">]</span> <span class="p">(</span><span class="nf">n</span> <span class="nv">a</span><span class="p">)))</span>
<span class="c1">;(defn exp [a] (fn [n] (fn [f] (fn [x] (((n a) f) x)))))</span>
</code></pre></div>
<ol>
<li>pluså¯ä»¥ç†è§£ä¸ºï¼Œå¯¹äºåˆå§‹å€¼xï¼Œå…ˆå¯¹äºå…¶è°ƒç”¨næ¬¡fï¼Œå†å¯¹å…¶è¿ç®—åçš„ç»“æœå†è°ƒç”¨mæ¬¡fï¼Œæ€»å…±è°ƒç”¨äº†(m + n)æ¬¡fã€‚</li>
<li>multå¯ä»¥ç†è§£ä¸ºï¼ŒæŠŠ(m f)å±•å¼€næ¬¡ï¼Œæœ€ç»ˆä½œç”¨äºxä¸Šï¼Œæ€»å…±è°ƒç”¨äº†(m * n)æ¬¡fã€‚</li>
<li>expå¯ä»¥ç†è§£ä¸ºï¼ŒæŠŠaå±•å¼€næ¬¡ï¼Œå¾—åˆ°(a (a...(a)))ï¼Œå½“ç»™å®šå‡½æ•°få’Œåˆå§‹å€¼xæ—¶ï¼Œå¯ä»¥å¾ˆå®¹æ˜“å¾—å‡ºå…¶æ€»å…±è°ƒç”¨äº†(a ** n)æ¬¡fã€‚</li>
</ol>

<p>å‰é©±å’Œå‡æ³•çš„å®šä¹‰ä¸æ˜¯å¾ˆç›´è§‚ï¼Œæ¯•ç«Ÿå…¶åœ¨è‡ªç„¶æ•°åŸŸé‡Œé¢æ“ä½œå¹¶ä¸å°é—­ã€‚</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="kd">defn </span><span class="nv">pred</span> <span class="p">[</span><span class="nv">n</span><span class="p">]</span>
  <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">f</span><span class="p">]</span>
    <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">x</span><span class="p">]</span>
      <span class="p">(((</span><span class="nf">n</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">g</span><span class="p">]</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">h</span><span class="p">]</span> <span class="p">(</span><span class="nf">h</span> <span class="p">(</span><span class="nf">g</span> <span class="nv">f</span><span class="p">)))))</span>
         <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">u</span><span class="p">]</span> <span class="nv">x</span><span class="p">))</span>
        <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">u</span><span class="p">]</span> <span class="nv">u</span><span class="p">)))))</span>

<span class="p">(</span><span class="kd">defn </span><span class="nv">sub</span> <span class="p">[</span><span class="nv">n</span><span class="p">]</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">m</span><span class="p">]</span> <span class="p">((</span><span class="nf">m</span> <span class="nv">pred</span><span class="p">)</span> <span class="nv">n</span><span class="p">)))</span>
</code></pre></div>
<p>é€šè¿‡ä¸‹é¢çš„å‡½æ•°ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“æŠŠæˆ‘ä»¬çš„é‚±å¥‡æ•°è½¬æ¢ä¸ºæˆ‘ä»¬ç†Ÿæ‚‰çš„è‡ªç„¶æ•°è¡¨ç¤ºã€‚</p>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="kd">defn </span><span class="nv">church-&gt;int</span> <span class="p">[</span><span class="nv">n</span><span class="p">]</span> <span class="p">((</span><span class="nf">n</span> <span class="p">(</span><span class="k">fn </span><span class="p">[</span><span class="nv">x</span><span class="p">]</span> <span class="p">(</span><span class="nb">inc </span><span class="nv">x</span><span class="p">)))</span> <span class="mi">0</span><span class="p">))</span>
</code></pre></div>
<h3 id="ç”¨ä¾‹æ¼”ç¤º">ç”¨ä¾‹æ¼”ç¤º</h3>
<div class="highlight"><pre><code class="language-clojure" data-lang="clojure"><span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="nv">zero</span><span class="p">)</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="nv">one</span><span class="p">)</span> <span class="mi">1</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="nv">two</span><span class="p">)</span> <span class="mi">2</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="nv">three</span><span class="p">)</span> <span class="mi">3</span><span class="p">))</span>

<span class="p">(</span><span class="nb">println </span><span class="s">&quot;SUCC&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">(</span><span class="nf">succ</span> <span class="nv">zero</span><span class="p">))</span> <span class="mi">1</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">(</span><span class="nf">succ</span> <span class="nv">one</span><span class="p">))</span> <span class="mi">2</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">(</span><span class="nf">succ</span> <span class="nv">two</span><span class="p">))</span> <span class="mi">3</span><span class="p">))</span>

<span class="p">(</span><span class="nb">println </span><span class="s">&quot;PLUS&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">plus</span> <span class="nv">zero</span><span class="p">)</span> <span class="nv">zero</span><span class="p">))</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">plus</span> <span class="nv">one</span><span class="p">)</span> <span class="nv">one</span><span class="p">))</span> <span class="mi">2</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">plus</span> <span class="nv">one</span><span class="p">)</span> <span class="nv">two</span><span class="p">))</span> <span class="mi">3</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">plus</span> <span class="nv">three</span><span class="p">)</span> <span class="nv">three</span><span class="p">))</span> <span class="mi">6</span><span class="p">))</span>

<span class="p">(</span><span class="nb">println </span><span class="s">&quot;MUL&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">mult</span> <span class="nv">zero</span><span class="p">)</span> <span class="nv">three</span><span class="p">))</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">mult</span> <span class="nv">one</span><span class="p">)</span> <span class="nv">two</span><span class="p">))</span> <span class="mi">2</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">mult</span> <span class="nv">one</span><span class="p">)</span> <span class="nv">three</span><span class="p">))</span> <span class="mi">3</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">mult</span> <span class="nv">three</span><span class="p">)</span> <span class="nv">two</span><span class="p">))</span> <span class="mi">6</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">mult</span> <span class="nv">three</span><span class="p">)</span> <span class="p">(</span><span class="nf">succ</span> <span class="nv">two</span><span class="p">)))</span> <span class="mi">9</span><span class="p">))</span>

<span class="p">(</span><span class="nb">println </span><span class="s">&quot;EXP&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">exp</span> <span class="nv">zero</span><span class="p">)</span> <span class="nv">zero</span><span class="p">))</span> <span class="mi">1</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">exp</span> <span class="nv">one</span><span class="p">)</span> <span class="nv">zero</span><span class="p">))</span> <span class="mi">1</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">exp</span> <span class="nv">two</span><span class="p">)</span> <span class="nv">zero</span><span class="p">))</span> <span class="mi">1</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">exp</span> <span class="nv">two</span><span class="p">)</span> <span class="nv">three</span><span class="p">))</span> <span class="mi">8</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">exp</span> <span class="nv">three</span><span class="p">)</span> <span class="nv">two</span><span class="p">))</span> <span class="mi">9</span><span class="p">))</span>

<span class="p">(</span><span class="nb">println </span><span class="s">&quot;PRED&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">(</span><span class="nf">pred</span> <span class="nv">zero</span><span class="p">))</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">(</span><span class="nf">pred</span> <span class="nv">one</span><span class="p">))</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">(</span><span class="nf">pred</span> <span class="nv">two</span><span class="p">))</span> <span class="mi">1</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">(</span><span class="nf">pred</span> <span class="nv">three</span><span class="p">))</span> <span class="mi">2</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">(</span><span class="nf">pred</span> <span class="p">(</span><span class="nf">succ</span> <span class="nv">three</span><span class="p">)))</span> <span class="mi">3</span><span class="p">))</span>

<span class="p">(</span><span class="nb">println </span><span class="s">&quot;SUB&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">sub</span> <span class="nv">zero</span><span class="p">)</span> <span class="nv">zero</span><span class="p">))</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">sub</span> <span class="nv">two</span><span class="p">)</span> <span class="nv">two</span><span class="p">))</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">sub</span> <span class="nv">two</span><span class="p">)</span> <span class="nv">one</span><span class="p">))</span> <span class="mi">1</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">sub</span> <span class="nv">three</span><span class="p">)</span> <span class="nv">one</span><span class="p">))</span> <span class="mi">2</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;int</span> <span class="p">((</span><span class="nf">sub</span> <span class="p">(</span><span class="nf">succ</span> <span class="nv">three</span><span class="p">))</span> <span class="nv">one</span><span class="p">))</span> <span class="mi">3</span><span class="p">))</span>


<span class="p">(</span><span class="nb">println </span><span class="s">&quot;\nEVEN RULES&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="kd">defn </span><span class="nv">church-&gt;even</span> <span class="p">[</span><span class="nv">n</span><span class="p">]</span> <span class="p">((</span><span class="nf">n</span> <span class="o">#</span><span class="p">(</span><span class="nb">+ </span><span class="nv">%</span> <span class="mi">2</span><span class="p">))</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;even</span> <span class="nv">zero</span><span class="p">)</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;even</span> <span class="p">(</span><span class="nf">succ</span> <span class="nv">zero</span><span class="p">))</span> <span class="mi">2</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;even</span> <span class="p">((</span><span class="nf">plus</span> <span class="p">(</span><span class="nf">succ</span> <span class="nv">zero</span><span class="p">))</span> <span class="p">(</span><span class="nf">succ</span> <span class="p">(</span><span class="nf">succ</span> <span class="nv">zero</span><span class="p">))))</span> <span class="mi">6</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;even</span> <span class="p">((</span><span class="nf">mult</span> <span class="nv">three</span><span class="p">)</span> <span class="nv">three</span><span class="p">))</span> <span class="mi">18</span><span class="p">))</span>

<span class="p">(</span><span class="nb">println </span><span class="s">&quot;\nEGATIVE NUMBER&quot;</span><span class="p">)</span>
<span class="p">(</span><span class="kd">defn </span><span class="nv">church-&gt;neg</span> <span class="p">[</span><span class="nv">n</span><span class="p">]</span> <span class="p">((</span><span class="nf">n</span> <span class="nv">dec</span><span class="p">)</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;neg</span> <span class="nv">zero</span><span class="p">)</span> <span class="mi">0</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;neg</span> <span class="p">(</span><span class="nf">succ</span> <span class="nv">zero</span><span class="p">))</span> <span class="mi">-1</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;neg</span> <span class="p">((</span><span class="nf">plus</span> <span class="p">(</span><span class="nf">succ</span> <span class="nv">zero</span><span class="p">))</span> <span class="p">(</span><span class="nf">succ</span> <span class="p">(</span><span class="nf">succ</span> <span class="nv">zero</span><span class="p">))))</span> <span class="mi">-3</span><span class="p">))</span>
<span class="p">(</span><span class="nb">assert </span><span class="p">(</span><span class="nb">= </span><span class="p">(</span><span class="nf">church-&gt;neg</span> <span class="p">((</span><span class="nf">mult</span> <span class="nv">three</span><span class="p">)</span> <span class="nv">three</span><span class="p">))</span> <span class="mi">-9</span><span class="p">))</span>
</code></pre></div>
<h3 id="å‚è€ƒ">å‚è€ƒ</h3>

<ol>
<li><a href="http://jameszhan.github.io/2014/09/18/lambda-y-combinator.html" title="Lambdaæ¼”ç®—ä¹‹Y-Combinatorçš„æ¨å¯¼">Lambdaæ¼”ç®—ä¹‹Y-Combinatorçš„æ¨å¯¼</a></li>
<li><a href="https://github.com/jameszhan/prototypes/blob/master/lambda/church-number.clj" title="å¤šå‚å®ç°æºä»£ç ">ç›¸å…³æºä»£ç (å¤šå‚æ•°ç‰ˆæœ¬)</a></li>
<li><a href="https://github.com/jameszhan/prototypes/blob/master/lambda/lambda.clj" title="å•å‚å®ç°æºä»£ç ">ç›¸å…³æºä»£ç (å•å‚æ•°ç‰ˆæœ¬)</a></li>
</ol>

        </article>

        <div class="row-fluid">
            <ul class="list-inline">
                <li><i class="glyphicon glyphicon-folder-open"></i></li>
                
                
    
    <li class="tag"><a href="/categories/pdt.html">ç¨‹åºè®¾è®¡è¯­è¨€ç†è®º<span>7</span></a></li>
    

            </ul>
            <ul class="list-inline">
                <li><i class="glyphicon glyphicon-tags"></i></li>
                
                
    
    <li class="tag"><a href="/tags/lambda.html">Lambda<span>6</span></a></li>
    

    
    <li class="tag"><a href="/tags/fp.html">å‡½æ•°å¼ç¼–ç¨‹<span>7</span></a></li>
    

    
    <li class="tag"><a href="/tags/clojure.html">Clojure<span>5</span></a></li>
    

    
    <li class="tag"><a href="/tags/lisp.html">Lisp<span>4</span></a></li>
    

    
    <li class="tag"><a href="/tags/pdt.html">ç¨‹åºè®¾è®¡è¯­è¨€ç†è®º<span>7</span></a></li>
    

            </ul>
        </div>

        <div class="row-fluid">
            <ul class="pagination pull-right">
                
                <li class="prev"><a href="/2014/09/01/ruby-metagramming.html" title="Rubyå…ƒç¼–ç¨‹æŠ€å·§">&larr; ä¸Šä¸€ç¯‡</a></li>
                
                <li><a href="http://jameszhan.github.io">Archive</a></li>
                
                <li class="next"><a href="/2014/09/16/code-styles.html" title="ä¸åŒç¼–ç¨‹è¯­è¨€çš„ä»£ç é£æ ¼æ¯”è¾ƒ">ä¸‹ä¸€ç¯‡ &rarr;</a>
                </li>
                
            </ul>
        </div>
    </div>

    <!-- å¤šè¯´è¯„è®ºæ¡† start -->
<div class="ds-thread"
     data-thread-key="/2014/09/10/lambda-church-number.html"
     data-title="Lambdaæ¼”ç®—ä¹‹è‡ªç„¶æ•°"
     data-url="http://jameszhan.github.io/2014/09/10/lambda-church-number.html"></div>
<!-- å¤šè¯´è¯„è®ºæ¡† end -->
<!-- å¤šè¯´å…¬å…±JSä»£ç  start (ä¸€ä¸ªç½‘é¡µåªéœ€æ’å…¥ä¸€æ¬¡) -->
<script type="text/javascript">
    var duoshuoQuery = {short_name:"jameszhan"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();

    $(document).on('click', '#ds-thread textarea[name=message]', function(){
        $('#ds-sync-checkbox').prop('checked', false);
    });
</script>
<!-- å¤šè¯´å…¬å…±JSä»£ç  end -->



    <!--<div data-include="/assets/tpls/widgets/comments.tpl"></div>-->
</div>

<div class="col-md-3">
    <div data-include="/assets/tpls/widgets/tags.tpl"></div>
<div data-include="/assets/tpls/widgets/categories.tpl"></div>

</div>


</div>

<div class="container" data-include="/assets/tpls/footer.tpl"></div>

<div class="modal fade" id="globalModal" tabindex="-1" role="dialog" aria-labelledby="globalModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
        </div>
    </div>
</div>

<script type="text/javascript" src="/assets/javascripts/seajs/sea.js"></script>
<script type="text/javascript" src="/assets/javascripts/firing.js"></script>
<div class="analytics">
    <script type="text/javascript" src="/assets/javascripts/analytics.js"></script>
</div>
</body>
</html>